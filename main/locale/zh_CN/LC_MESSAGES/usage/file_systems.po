# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2026, Litestar Organization
# This file is distributed under the same license as the Litestar package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Litestar main\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2026-02-20 02:57+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../usage/file_systems.rst:2
msgid "File Systems"
msgstr ""

#: ../../../usage/file_systems.rst:4
msgid ""
"When sending files with :class:`~litestar.response.File` or serving them "
"using :func:`~litestar.static_files.create_static_files_router`, in addition "
"to doing so from the local file system Litestar also supports custom file "
"systems, including support for `fsspec <https://filesystem-spec.readthedocs."
"io/en/latest/>`_, which enables an integration with a wide range of remote "
"file systems."
msgstr ""

#: ../../../usage/file_systems.rst:10
msgid ""
"At its core, a file system is any class that implements the abstract :class:"
"`~litestar.file_system.BaseFileSystem` class. By default, Litestar ships "
"with a single implementation: :class:`~litestar.file_system."
"BaseLocalFileSystem`."
msgstr ""

#: ../../../usage/file_systems.rst:16
msgid "Sending files from S3"
msgstr ""

#: ../../../usage/file_systems.rst:16 ../../../usage/file_systems.rst:46
msgid ""
"import fsspec\n"
"\n"
"from litestar import Litestar, get\n"
"from litestar.response import File\n"
"\n"
"s3_fs = fsspec.filesystem(\"s3\", asynchronous=True)\n"
"\n"
"\n"
"@get(\"/{file_name:str}\")\n"
"async def file_handler(file_name: str) -> File:\n"
"    return File(file_name, file_system=s3_fs)\n"
"\n"
"\n"
"app = Litestar([file_handler])"
msgstr ""

#: ../../../usage/file_systems.rst:21
msgid "Supported file systems"
msgstr ""

#: ../../../usage/file_systems.rst:23
msgid ""
"In addition to file systems implemented on top of :class:`~litestar."
"file_system.BaseFileSystem`, all ``fsspec`` file systems, synchronous and "
"asynchronous, are supported. They will be wrapped in :class:`~litestar."
"file_system.FsspecSyncWrapper` or :class:`~litestar.file_system."
"FsspecAsyncWrapper` respectively to conform to a common interface."
msgstr ""

#: ../../../usage/file_systems.rst:32
msgid "fsspec"
msgstr ""

#: ../../../usage/file_systems.rst:34
msgid ""
"Everywhere :class:`~litestar.file_system.BaseFileSystem` is accepted, "
"``fsspec`` file systems are usually accepted as well."
msgstr ""

#: ../../../usage/file_systems.rst:37
msgid ""
"It can still make sense to set them up in the `Registry` instead, or wrap "
"them manually with :func:`~litestar.file_system."
"maybe_wrap_fsspec_file_system` once and use that wrapper, so they don't have "
"to be wrapped again for every usage:"
msgstr ""

#: ../../../usage/file_systems.rst:0
msgid "Don't"
msgstr ""

#: ../../../usage/file_systems.rst:0
msgid "Do instead"
msgstr ""

#: ../../../usage/file_systems.rst:51
msgid "Explicitly wrapping an fsspec file system"
msgstr ""

#: ../../../usage/file_systems.rst:51
msgid ""
"import fsspec\n"
"\n"
"from litestar import Litestar, get\n"
"from litestar.file_system import FsspecAsyncWrapper\n"
"from litestar.response import File\n"
"\n"
"wrapped_s3_fs = FsspecAsyncWrapper(fsspec.filesystem(\"s3\", "
"asynchronous=True))\n"
"\n"
"\n"
"@get(\"/{file_name:str}\")\n"
"async def file_handler(file_name: str) -> File:\n"
"    return File(file_name, file_system=wrapped_s3_fs)\n"
"\n"
"\n"
"app = Litestar([file_handler])"
msgstr ""

#: ../../../usage/file_systems.rst:54
msgid "or"
msgstr ""

#: ../../../usage/file_systems.rst:57
msgid "Using the registry to automatically wrap an fsspec file system"
msgstr ""

#: ../../../usage/file_systems.rst:57
msgid ""
"import fsspec\n"
"\n"
"from litestar import Litestar, get\n"
"from litestar.file_system import FileSystemRegistry\n"
"from litestar.response import File\n"
"\n"
"\n"
"@get(\"/{file_name:str}\")\n"
"async def file_handler(file_name: str) -> File:\n"
"    return File(file_name, file_system=\"s3\")\n"
"\n"
"\n"
"app = Litestar(\n"
"    [file_handler],\n"
"    plugins=[\n"
"        FileSystemRegistry({\"s3\": fsspec.filesystem(\"s3\", "
"asynchronous=True)}),\n"
"    ],\n"
")"
msgstr ""

#: ../../../usage/file_systems.rst:63
msgid ""
"If an asynchronous fsspec file system is used, it should always be "
"constructed with ``asynchronous=True`` **without** passing a ``loop``, so "
"Litestar can use their native async functions."
msgstr ""

#: ../../../usage/file_systems.rst:68
msgid ""
"https://filesystem-spec.readthedocs.io/en/latest/async.html#using-from-async"
msgstr ""

#: ../../../usage/file_systems.rst:73
msgid "Adapting file systems that support symlinks"
msgstr ""

#: ../../../usage/file_systems.rst:75
msgid ""
"Handling symlinks can be tricky. To ensure Litestar always does the right "
"thing, existing file systems that do support symlinks can be registered as "
"\"linkable\" without having to implement :class:`~litestar.file_system."
"LinkableFileSystem`."
msgstr ""

#: ../../../usage/file_systems.rst:79
msgid ""
"To register a file system as linkable, :meth:`~litestar.file_system."
"LinkableFileSystem.register_as_linkable` can be used to register a type and "
"a function to resolve symlinks on this file system."
msgstr ""

#: ../../../usage/file_systems.rst:84
msgid ""
"import os\n"
"\n"
"from fsspec.implementations.local import LocalFileSystem\n"
"\n"
"from litestar.file_system import AnyFileSystem, LinkableFileSystem\n"
"\n"
"\n"
"async def local_resolver(fs: AnyFileSystem, path: str) -> str:\n"
"    return os.path.realpath(path)\n"
"\n"
"\n"
"# Register LocalFileSystem as supporting symlinks\n"
"LinkableFileSystem.register_as_linkable(LocalFileSystem, local_resolver)"
msgstr ""

#: ../../../usage/file_systems.rst:88
msgid ""
"By default, :class:`fsspec.implementations.local.LocalFileSystem` is already "
"registered as a linkable file system"
msgstr ""

#: ../../../usage/file_systems.rst:93
msgid "Registry"
msgstr ""

#: ../../../usage/file_systems.rst:95
msgid ""
"For easier configuration and testing, :class:`~litestar.file_system."
"FileSystemRegistry` can be used to register file systems under a name by "
"which they can be referenced later."
msgstr ""

#: ../../../usage/file_systems.rst:99
msgid "Sending files from S3 by using the registry"
msgstr ""

#: ../../../usage/file_systems.rst:99
msgid ""
"import fsspec\n"
"\n"
"from litestar import Litestar, get\n"
"from litestar.file_system import FileSystemRegistry\n"
"from litestar.response import File\n"
"\n"
"\n"
"@get(\"/{file_name:str}\")\n"
"async def file_handler(file_name: str) -> File:\n"
"    return File(file_name, file_system=\"assets\")\n"
"\n"
"\n"
"def create_app(assets_fs: fsspec.AbstractFileSystem):\n"
"    return Litestar(\n"
"        [file_handler],\n"
"        plugins=[FileSystemRegistry({\"assets\": assets_fs})],\n"
"    )"
msgstr ""

#: ../../../usage/file_systems.rst:104
msgid ""
"When adding an fsspec file system, it will automatically be wrapped to be "
"compatible with :class:`~litestar.file_system.BaseFileSystem`."
msgstr ""

#: ../../../usage/file_systems.rst:108
msgid ""
":class:`~litestar.file_system.FileSystemRegistry` is implemented as a plugin "
"which is automatically set up unless an instance of it is passed to the "
"application explicitly."
msgstr ""

#: ../../../usage/file_systems.rst:112
msgid "If needed, the registry can be accessed like any other plugin:"
msgstr ""

#: ../../../usage/file_systems.rst:115
msgid "Accessing the registry"
msgstr ""

#: ../../../usage/file_systems.rst:115
msgid ""
"from litestar import Litestar, Request, get\n"
"from litestar.file_system import FileSystemRegistry\n"
"\n"
"\n"
"@get(\"/\")\n"
"async def handler(request: Request) -> bytes:\n"
"    registry = request.app.plugins.get(FileSystemRegistry)\n"
"    return registry.default.read_bytes(\"some/file.txt\")\n"
"\n"
"\n"
"app = Litestar([handler])"
msgstr ""

#: ../../../usage/file_systems.rst:120
msgid "Setting a default file system"
msgstr ""

#: ../../../usage/file_systems.rst:122
msgid ""
"For actions that involve sending files, if no file system is passed "
"explicitly, Litestar will use the default file system defined in the "
"registry. This defaults to :class:`~litestar.file_system."
"BaseLocalFileSystem`, but may be configured to any supported file system."
msgstr ""

#: ../../../usage/file_systems.rst:128
msgid "Changing the default file system"
msgstr ""

#: ../../../usage/file_systems.rst:128
msgid ""
"import fsspec\n"
"\n"
"from litestar import Litestar, get\n"
"from litestar.file_system import FileSystemRegistry\n"
"from litestar.response import File\n"
"\n"
"\n"
"@get(\"/{file_name:str}\")\n"
"async def file_handler(file_name: str) -> File:\n"
"    return File(file_name)\n"
"\n"
"\n"
"app = Litestar(\n"
"    [file_handler],\n"
"    plugins=[\n"
"        FileSystemRegistry(default=fsspec.filesystem(\"s3\", "
"asynchronous=True)),\n"
"    ],\n"
")"
msgstr ""
