# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2025, Litestar-Org
# This file is distributed under the same license as the Litestar package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Litestar 2\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2026-02-20 02:57+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:2
msgid "SQLAlchemy Init Plugin"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:4
msgid ""
"The :class:`SQLAlchemyInitPlugin <advanced_alchemy.extensions.litestar."
"SQLAlchemyInitPlugin>` adds functionality to the application that supports "
"using Litestar with `SQLAlchemy <http://www.sqlalchemy.org/>`_."
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:7
msgid "The plugin:"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:9
msgid ""
"Makes the SQLAlchemy engine and session available via dependency injection."
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:10
msgid ""
"Manages the SQLAlchemy engine and session factory in the application's state."
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:11
msgid ""
"Configures a ``before_send`` handler that is called before sending a "
"response."
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:12
msgid ""
"Includes relevant names in the signature namespace to aid resolving "
"annotated types."
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:15
msgid "Dependencies"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:17
msgid "The plugin makes the engine and session available for injection."
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:0
msgid "Async"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:24
msgid "SQLAlchemy Async Dependencies"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:24
msgid ""
"from __future__ import annotations\n"
"\n"
"from typing import TYPE_CHECKING\n"
"\n"
"from sqlalchemy import select\n"
"\n"
"from litestar import Litestar, post\n"
"from litestar.plugins.sqlalchemy import SQLAlchemyAsyncConfig, "
"SQLAlchemyInitPlugin\n"
"\n"
"if TYPE_CHECKING:\n"
"\n"
"    from sqlalchemy.ext.asyncio import AsyncEngine, AsyncSession\n"
"\n"
"\n"
"@post(\"/\")\n"
"async def handler(db_session: AsyncSession, db_engine: AsyncEngine) -> "
"tuple[int, int]:\n"
"    one = (await db_session.execute(select(1))).scalar()\n"
"\n"
"    async with db_engine.begin() as conn:\n"
"        two = (await conn.execute(select(2))).scalar()\n"
"\n"
"    return one, two\n"
"\n"
"\n"
"config = SQLAlchemyAsyncConfig(connection_string=\"sqlite+aiosqlite:///async."
"sqlite\")\n"
"plugin = SQLAlchemyInitPlugin(config=config)\n"
"app = Litestar(route_handlers=[handler], plugins=[plugin])"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:0
msgid "Sync"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:31
msgid "SQLAlchemy Sync Dependencies"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:31
msgid ""
"from __future__ import annotations\n"
"\n"
"from typing import TYPE_CHECKING\n"
"\n"
"from sqlalchemy import select\n"
"\n"
"from litestar import Litestar, post\n"
"from litestar.plugins.sqlalchemy import SQLAlchemyInitPlugin, "
"SQLAlchemySyncConfig\n"
"\n"
"if TYPE_CHECKING:\n"
"\n"
"    from sqlalchemy import Engine\n"
"    from sqlalchemy.orm import Session\n"
"\n"
"\n"
"@post(\"/\", sync_to_thread=True)\n"
"def handler(db_session: Session, db_engine: Engine) -> tuple[int, int]:\n"
"    one = db_session.execute(select(1)).scalar()\n"
"\n"
"    with db_engine.begin() as conn:\n"
"        two = conn.execute(select(2)).scalar()\n"
"\n"
"    return one, two\n"
"\n"
"\n"
"config = SQLAlchemySyncConfig(connection_string=\"sqlite:///sync.sqlite\")\n"
"plugin = SQLAlchemyInitPlugin(config=config)\n"
"app = Litestar(route_handlers=[handler], plugins=[plugin])"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:35
msgid ""
"The above example illustrates how to access the engine and session in the "
"handler, and like all other dependencies, they can also be injected into "
"other dependency functions."
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:39
msgid "Renaming the dependencies"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:41
msgid ""
"You can change the name that the engine and session are bound to by setting "
"the :attr:`engine_dependency_key <advanced_alchemy.extensions.litestar."
"SQLAlchemyAsyncConfig.engine_dependency_key>` and :attr:"
"`session_dependency_key <advanced_alchemy.extensions.litestar."
"SQLAlchemyAsyncConfig.session_dependency_key>` attributes on the plugin "
"configuration."
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:47
msgid "Configuring the before send handler"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:49
msgid ""
"The plugin configures a ``before_send`` handler that is called before "
"sending a response. The default handler closes the session and removes it "
"from the connection scope."
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:52
msgid ""
"You can change the handler by setting the :attr:`before_send_handler "
"<advanced_alchemy.extensions.litestar.SQLAlchemyAsyncConfig."
"before_send_handler>` attribute on the configuration object. For example, an "
"alternate handler is available that will also commit the session on success "
"and rollback upon failure."
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:62
msgid "SQLAlchemy Async Before Send Handler"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:62
msgid ""
"from __future__ import annotations\n"
"\n"
"from litestar import Litestar\n"
"from litestar.plugins.sqlalchemy import (\n"
"    SQLAlchemyAsyncConfig,\n"
"    SQLAlchemyInitPlugin,\n"
"    async_autocommit_before_send_handler,\n"
")\n"
"\n"
"config = SQLAlchemyAsyncConfig(\n"
"    connection_string=\"sqlite+aiosqlite:///:memory:\", "
"before_send_handler=async_autocommit_before_send_handler\n"
")\n"
"plugin = SQLAlchemyInitPlugin(config=config)\n"
"\n"
"app = Litestar(route_handlers=[], plugins=[plugin])"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:69
msgid "SQLAlchemy Sync Before Send Handler"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:69
msgid ""
"from __future__ import annotations\n"
"\n"
"from litestar import Litestar\n"
"from litestar.plugins.sqlalchemy import SQLAlchemyInitPlugin, "
"SQLAlchemySyncConfig, sync_autocommit_before_send_handler\n"
"\n"
"config = SQLAlchemySyncConfig(\n"
"    connection_string=\"sqlite:///:memory:\",\n"
"    before_send_handler=sync_autocommit_before_send_handler,\n"
")\n"
"plugin = SQLAlchemyInitPlugin(config=config)\n"
"\n"
"app = Litestar(route_handlers=[], plugins=[plugin])"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:74
msgid "Configuring the plugins"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:76
msgid ""
"Both the :class:`SQLAlchemyAsyncConfig <advanced_alchemy.extensions.litestar."
"SQLAlchemyAsyncConfig>` and the :class:`SQLAlchemySyncConfig "
"<advanced_alchemy.extensions.litestar.SQLAlchemySyncConfig>` have an "
"``engine_config`` attribute that is used to configure the engine. The "
"``engine_config`` attribute is an instance of :class:`EngineConfig "
"<advanced_alchemy.extensions.litestar.EngineConfig>` and exposes all of the "
"configuration options available to the SQLAlchemy engine."
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:82
msgid ""
"The :class:`SQLAlchemyAsyncConfig <advanced_alchemy.extensions.litestar."
"SQLAlchemyAsyncConfig>` class and the :class:`SQLAlchemySyncConfig "
"<advanced_alchemy.extensions.litestar.SQLAlchemySyncConfig>` class also have "
"a ``session_config`` attribute that is used to configure the session. This "
"is either an instance of :class:`AsyncSessionConfig <advanced_alchemy."
"extensions.litestar.AsyncSessionConfig>` or :class:`SyncSessionConfig "
"<advanced_alchemy.extensions.litestar.SyncSessionConfig>` depending on the "
"type of config object. These classes expose all of the configuration options "
"available to the SQLAlchemy session."
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:89
msgid ""
"Finally, the :class:`SQLAlchemyAsyncConfig <advanced_alchemy.extensions."
"litestar.SQLAlchemyAsyncConfig>` class and the :class:`SQLAlchemySyncConfig "
"<advanced_alchemy.extensions.litestar.SQLAlchemySyncConfig>` class expose "
"configuration options to control their behavior."
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:93
msgid "Consult the reference documentation for more information."
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:96
msgid "Example"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:98
msgid ""
"The below example is a complete demonstration of use of the init plugin. "
"Readers who are familiar with the prior section may note the additional "
"complexity involved in managing the conversion to and from SQLAlchemy "
"objects within the handlers. Read on to see how this increased complexity is "
"efficiently handled by the :class:`SQLAlchemySerializationPlugin "
"<advanced_alchemy.extensions.litestar.SQLAlchemySerializationPlugin>`."
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:108
msgid "SQLAlchemy Async Init Plugin Example"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:108
msgid ""
"from __future__ import annotations\n"
"\n"
"from typing import TYPE_CHECKING\n"
"\n"
"from sqlalchemy import select\n"
"from sqlalchemy.orm import DeclarativeBase, Mapped, mapped_column\n"
"\n"
"from litestar import Litestar, post\n"
"from litestar.plugins.sqlalchemy import SQLAlchemyAsyncConfig, "
"SQLAlchemyInitPlugin\n"
"\n"
"if TYPE_CHECKING:\n"
"    from typing import Any\n"
"\n"
"    from sqlalchemy.ext.asyncio import AsyncSession\n"
"\n"
"\n"
"class Base(DeclarativeBase): ...\n"
"\n"
"\n"
"class TodoItem(Base):\n"
"    __tablename__ = \"todo_item\"\n"
"    title: Mapped[str] = mapped_column(primary_key=True)\n"
"    done: Mapped[bool]\n"
"\n"
"\n"
"@post(\"/\")\n"
"async def add_item(data: dict[str, Any], db_session: AsyncSession) -> "
"list[dict[str, Any]]:\n"
"    todo_item = TodoItem(**data)\n"
"    async with db_session.begin():\n"
"        db_session.add(todo_item)\n"
"    return [\n"
"        {\n"
"            \"title\": item.title,\n"
"            \"done\": item.done,\n"
"        }\n"
"        for item in (await db_session.execute(select(TodoItem))).scalars()\n"
"    ]\n"
"\n"
"\n"
"async def init_db(app: Litestar) -> None:\n"
"    async with config.get_engine().begin() as conn:\n"
"        await conn.run_sync(Base.metadata.create_all)\n"
"\n"
"\n"
"config = SQLAlchemyAsyncConfig(connection_string=\"sqlite+aiosqlite:///"
"todo_async.sqlite\")\n"
"plugin = SQLAlchemyInitPlugin(config=config)\n"
"app = Litestar(route_handlers=[add_item], plugins=[plugin], "
"on_startup=[init_db], debug=True)"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:115
msgid "SQLAlchemy Sync Init Plugin Example"
msgstr ""

#: ../../../usage/databases/sqlalchemy/plugins/sqlalchemy_init_plugin.rst:115
msgid ""
"from __future__ import annotations\n"
"\n"
"from typing import TYPE_CHECKING\n"
"\n"
"from sqlalchemy import select\n"
"from sqlalchemy.orm import DeclarativeBase, Mapped, mapped_column\n"
"\n"
"from litestar import Litestar, post\n"
"from litestar.plugins.sqlalchemy import SQLAlchemyInitPlugin, "
"SQLAlchemySyncConfig\n"
"\n"
"if TYPE_CHECKING:\n"
"    from typing import Any\n"
"\n"
"    from sqlalchemy.orm import Session\n"
"\n"
"\n"
"class Base(DeclarativeBase): ...\n"
"\n"
"\n"
"class TodoItem(Base):\n"
"    __tablename__ = \"todo_item\"\n"
"    title: Mapped[str] = mapped_column(primary_key=True)\n"
"    done: Mapped[bool]\n"
"\n"
"\n"
"@post(\"/\", sync_to_thread=True)\n"
"def add_item(data: dict[str, Any], db_session: Session) -> list[dict[str, "
"Any]]:\n"
"    todo_item = TodoItem(**data)\n"
"    with db_session.begin():\n"
"        db_session.add(todo_item)\n"
"    return [\n"
"        {\n"
"            \"title\": item.title,\n"
"            \"done\": item.done,\n"
"        }\n"
"        for item in db_session.execute(select(TodoItem)).scalars()\n"
"    ]\n"
"\n"
"\n"
"def init_db(app: Litestar) -> None:\n"
"    with config.get_engine().begin() as conn:\n"
"        Base.metadata.create_all(conn)\n"
"\n"
"\n"
"config = SQLAlchemySyncConfig(connection_string=\"sqlite:///todo_sync."
"sqlite\")\n"
"plugin = SQLAlchemyInitPlugin(config=config)\n"
"app = Litestar(route_handlers=[add_item], plugins=[plugin], "
"on_startup=[init_db])"
msgstr ""
