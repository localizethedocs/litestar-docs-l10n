# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2023, Starlite-API
# This file is distributed under the same license as the Starlite package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Starlite 1\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2026-02-20 02:57+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../usage/plugins/tortoise-orm.rst:2
msgid "Tortoise ORM Plugin"
msgstr ""

#: ../../../usage/plugins/tortoise-orm.rst:4
msgid ""
"To use the :class:`TortoiseORMPlugin <starlite.plugins.tortoise_orm."
"TortoiseORMPlugin>` import it and pass it to the :class:`Starlite "
"constructor <starlite.app.Starlite>`:"
msgstr ""

#: ../../../usage/plugins/tortoise-orm.rst:8
msgid ""
"from typing import cast\n"
"\n"
"from tortoise import Model, Tortoise, fields\n"
"from tortoise.connection import connections\n"
"\n"
"from starlite import Starlite, get, post\n"
"from starlite.plugins.tortoise_orm import TortoiseORMPlugin\n"
"\n"
"\n"
"class Tournament(Model):\n"
"    id = fields.IntField(pk=True)\n"
"    name = fields.TextField()\n"
"    created_at = fields.DatetimeField(auto_now_add=True)\n"
"    optional = fields.TextField(null=True)\n"
"    events: fields.ReverseRelation[\"Event\"]\n"
"\n"
"    class Meta:\n"
"        ordering = [\"name\"]\n"
"\n"
"\n"
"class Event(Model):\n"
"    id = fields.IntField(pk=True)\n"
"    name = fields.TextField()\n"
"    created_at = fields.DatetimeField(auto_now_add=True)\n"
"    tournament: fields.ForeignKeyNullableRelation[Tournament] = fields."
"ForeignKeyField(\n"
"        \"models.Tournament\", related_name=\"events\", null=True\n"
"    )\n"
"    participants: fields.ManyToManyRelation[\"Team\"] = fields."
"ManyToManyField(\n"
"        \"models.Team\", related_name=\"events\", through=\"event_team\"\n"
"    )\n"
"    address: fields.OneToOneNullableRelation[\"Address\"]\n"
"\n"
"    class Meta:\n"
"        ordering = [\"name\"]\n"
"\n"
"\n"
"class Address(Model):\n"
"    city = fields.CharField(max_length=64)\n"
"    street = fields.CharField(max_length=128)\n"
"    created_at = fields.DatetimeField(auto_now_add=True)\n"
"\n"
"    event: fields.OneToOneRelation[Event] = fields.OneToOneField(\n"
"        \"models.Event\", related_name=\"address\", pk=True\n"
"    )\n"
"\n"
"    class Meta:\n"
"        ordering = [\"city\"]\n"
"\n"
"\n"
"class Team(Model):\n"
"    id = fields.IntField(pk=True)\n"
"    name = fields.TextField()\n"
"    created_at = fields.DatetimeField(auto_now_add=True)\n"
"\n"
"    events: fields.ManyToManyRelation[Event]\n"
"\n"
"    class Meta:\n"
"        ordering = [\"name\"]\n"
"\n"
"\n"
"async def init_tortoise() -> None:\n"
"    await Tortoise.init(db_url=\"sqlite://:memory:\", modules={\"models\": "
"[__name__]})\n"
"    await Tortoise.generate_schemas()\n"
"\n"
"\n"
"async def shutdown_tortoise() -> None:\n"
"    await connections.close_all()\n"
"\n"
"\n"
"@get(\"/tournaments\")\n"
"async def get_tournaments() -> list[Tournament]:\n"
"    tournaments = await Tournament.all()\n"
"    return cast(\"list[Tournament]\", tournaments)\n"
"\n"
"\n"
"@get(\"/tournaments/{tournament_id:int}\")\n"
"async def get_tournament(tournament_id: int) -> Tournament:\n"
"    tournament = await Tournament.filter(id=tournament_id).first()\n"
"    return cast(\"Tournament\", tournament)\n"
"\n"
"\n"
"@post(\"/tournaments\")\n"
"async def create_tournament(data: Tournament) -> Tournament:\n"
"    assert isinstance(data, Tournament)\n"
"    await data.save()\n"
"    await data.refresh_from_db()\n"
"    return data\n"
"\n"
"\n"
"app = Starlite(\n"
"    route_handlers=[get_tournament, get_tournaments, create_tournament],\n"
"    on_startup=[init_tortoise],\n"
"    on_shutdown=[shutdown_tortoise],\n"
"    plugins=[TortoiseORMPlugin()],\n"
")"
msgstr ""

#: ../../../usage/plugins/tortoise-orm.rst:105
msgid ""
"With the plugin in place, you can use any Tortoise model as a type in route "
"handlers."
msgstr ""
